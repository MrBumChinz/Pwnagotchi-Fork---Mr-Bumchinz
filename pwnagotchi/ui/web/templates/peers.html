{% extends "base.html" %}
{% set active_page = "peers" %}

{% block title %}
{{ name }} Friends | Pwnagotchi
{% endblock %}

{% block content %}
<div class="page-header">
    <h1>ğŸ¤ Peers</h1>
    <p>{{ peers|length }} friend{{ 's' if peers|length != 1 else '' }} encountered</p>
</div>

<div style="padding: 20px;">
    {% if peers %}
    <ul class="peers" data-role="listview" data-filter="true" data-filter-placeholder="ğŸ” Search peers..." data-inset="true">
        {% for peer in peers %}
        <li class="peer">
            <a href="/inbox/new?to={{ peer.fingerprint }}">
                <h2>
                    <span style="font-size: 1.5rem;">{{ peer.advertisement.face }}</span>
                    {{ peer.advertisement.name }}
                </h2>
                <p style="font-family: monospace; font-size: 0.8rem; color: var(--accent-secondary);">
                    ğŸ”‘ {{ peer.fingerprint[:16] }}...
                </p>
                <p>
                    ğŸ¯ <strong>{{ peer.advertisement.pwnd_tot }}</strong> networks pwned
                    &nbsp;â€¢&nbsp;
                    ğŸ‘‹ <strong>{{ peer.encounters }}</strong> encounter{{ 's' if peer.encounters != 1 else '' }}
                </p>
            </a>
        </li>
        {% endfor %}
    </ul>
    {% else %}
    <div class="card" style="text-align: center; padding: 40px;">
        <div style="font-size: 4rem; margin-bottom: 20px;">ğŸ‘»</div>
        <h3 style="color: var(--text-secondary);">No peers yet</h3>
        <p style="color: var(--text-secondary);">Go exploring! Your pwnagotchi will find friends automatically.</p>
    </div>
    {% endif %}
</div>
{% endblock %}
